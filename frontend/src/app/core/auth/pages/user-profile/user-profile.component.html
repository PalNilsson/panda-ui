<ng-container *ngIf="user$ | async as user">
<table class="table table-sm">
  <thead></thead>
  <tbody>
    <tr>
      <th>Username</th>
      <td>{{user.username}}</td>
    </tr>
    <tr>
      <th>First name</th>
      <td>{{user.first_name}}</td>
    </tr>
    <tr>
      <th>Family name</th>
      <td>{{user.last_name}}</td>
    </tr>
    <tr>
      <th>Email</th>
      <td>{{user.email}}</td>
    </tr>
    <tr>
      <th>Groups</th>
      <td><span *ngIf="user.groups?.length">{{ user.groups.join(", ") }}</span><span *ngIf="!user.groups?.length">&mdash;</span></td>
    </tr>
    <tr>
      <th>Permissions</th>
      <td><span *ngIf="user.permissions?.length">{{ user.permissions.join(",") }}</span><span *ngIf="!user.permissions?.length">&mdash;</span></td>
    </tr>
  </tbody>
</table>



<button class="btn btn-primary" (click)="loadToken()" [disabled]="loadingToken">
  {{ loadingToken ? 'Loading...' : 'Get Token' }}
</button>
<div *ngIf="token$ | async as token" class="mt-3">
  <strong>Your token: </strong><code>{{ token }}</code>
</div>
</ng-container>
